{% load static %}
<!DOCTYPE html>
<html>
<head>
      <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    
    <!-- Bootstrap CSS -->
    <!-- Load required Bootstrap and BootstrapVue CSS -->
    <link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css" />

    <!-- Load polyfills to support older browsers -->
    <script src="//polyfill.io/v3/polyfill.min.js?features=es2015%2CIntersectionObserver" crossorigin="anonymous"></script>

    <!-- Load Vue followed by BootstrapVue -->
    <script src="//unpkg.com/vue@latest/dist/vue.js"></script>
    <script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.js"></script>

    <!-- Load the following for BootstrapVueIcons support -->
    <script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue-icons.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'oubliette/main.css' %}">
    
    <!-- Loading in -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue-router"></script>

     {% if title %}
        <title>Oubliette - {{ title }}</title>
    {% else %}
        <title>Oubliette</title>
    {% endif %}
</head>
<body>
<div id="app">
    <header class="site-header">
        <div id="data">
            <b-navbar toggleable="md" type="dark" class="navbar bg-steel fixed-top">
                <div class="container">
                    <b-navbar-brand href="{% url 'profile'%}"><h2>Oubliette</h2> <h6>Let's start a new Adventure!</h6></b-navbar-brand>
                    
                    <b-navbar-toggle target="nav-collapse"></b-navbar-toggle>
                    <b-collapse id="nav-collapse" is-nav>
                        <i class="fas fa-bars"></i>
                        <b-navbar-nav>
                            <b-nav-item :to="'/'">Home</b-nav-item>
                            <b-nav-item :to="'about'">About</b-nav-item>
                            <!-- <b-nav-item href="{% url 'users:home'%}">Home</b-nav-item> -->
                            <!-- <b-nav-item href="{% url 'users:about'%}">About</b-nav-item> -->
                        </b-navbar-nav>
                        <!-- Right aligned nav items -->
                        <b-navbar-nav class="ml-auto">
                            {% if user.is_authenticated %}
                                <b-nav-item href="{% url 'profile'%}">Profile</b-nav-item>
                                <b-nav-item href="{% url 'logout'%}">Logout</b-nav-item>
                            {% else %}
                                <b-nav-item href="{% url 'login'%}">Login</b-nav-item>
                                <b-nav-item :to="'register'">Register</b-nav-item>
                            {% endif %}
                        </b-navbar-nav>
                    </b-collapse>
                </div> 
            </b-navbar>
        </div>
    </header>
    <main role="main" class="container">
            <!-- {% load crispy_forms_tags %} -->
            <!-- {% block content %}{% endblock %} -->
            <router-link to="/">Home</router-link>
            <router-link to="about">About</router-link>
            <router-link to="register">Register</router-link>
            <router-view></router-view>
    </main>
    </div>
     <!-- Optional JavaScript -->
    {% load static %} 
    <script src="/static/oubliette/about.vue.js"></script>
    <script src="/static/oubliette/home.vue.js"></script>
    <script src="/static/oubliette/register.vue.js"></script>

    <script>
        var routes = [
        {path: '/about', component: About},
        {path: '/', component: Home},
        {path: '/register', component: Register},
        ];

        var router = new VueRouter({
            routes: routes,
            mode: 'history',
            base: '/'
        }); 

        let vm = new Vue({
            el:'#app',
            router: router

        });
    </script>
    
    <!-- <script>
        let vm = new Vue({
            el:'#data'

        });
    </script> -->
    <!-- <script>
        const options = {
        transformAssetUrls: {
            'video': 'src',
            'source': 'src',
            'img': 'src',
            'image': 'xlink:href',
            'b-img': 'src',
            }
        }
        let app = new Vue({
            el:'#app', 
            delimiters:['[[',']]'],

            data: {
                users: [],
            },
            methods:{
                getUsersList: function() {
                    axios({
                        method: "get",
                        url: "/api/users/"
                    }).then(response => this.users = response.data)
                },
            },
            mounted: function () {
                this.getUserList();
            }
        }) 
    </script> -->

</body>
</html>